# Система управления отпусками - Описание проекта

## Общее описание
Проект представляет собой систему управления отпусками для организации, реализованную в виде Telegram-бота с бэкенд-сервером. Система позволяет сотрудникам подавать заявки на отпуск, а руководителям различных уровней - согласовывать их.

## Структура проекта

### Backend (`/backend`)
Django-приложение, обеспечивающее хранение данных и бизнес-логику.

#### Основные компоненты:
- `vacation_service/` - основной модуль Django-проекта
  - `settings.py` - настройки проекта
  - `urls.py` - конфигурация URL-маршрутов
  
- `vacation/` - основное приложение
  - `models.py` - модели данных
  - `views.py` - представления API
  - `admin.py` - настройки административной панели

- `scripts.py` - скрипты для синхронизации данных с Excel

### Telegram Bot (`/tg`)
Интерфейс взаимодействия с пользователями через Telegram.

#### Основные компоненты:
- `bot.py` - основной файл бота
- `config.py` - конфигурация бота
- `models.py` - модели данных для бота

#### Handlers (обработчики команд):
1. **Административные функции** (`/handlers/admin/`)
   - `new_users.py` - управление новыми пользователями
   - `panel.py` - административная панель

2. **Аутентификация** (`/handlers/auth/`)
   - `permissions.py` - управление правами доступа

3. **Управление отпусками** (`/handlers/vacation/`)
   - `request.py` - обработка заявок на отпуск
   - `message_handler.py` - обработка сообщений

4. **Согласование отпусков**
   - Директор (`/handlers/director/`)
     - `vacation_approval.py` - согласование отпусков
     - `view_requests.py` - просмотр заявок
   - Руководитель отдела (`/handlers/department_head/`)
     - `vacation_approval.py` - согласование отпусков
   - HR-отдел (`/handlers/hr/`)
     - `vacation_approval.py` - согласование отпусков

## Процесс работы системы

1. **Регистрация пользователей**
   - Новые пользователи регистрируются через бота
   - Администраторы подтверждают регистрацию и назначают роли

2. **Подача заявки на отпуск**
   - Сотрудник создает заявку через бота
   - Указывает даты начала и окончания отпуска
   - Может добавить комментарий к заявке

3. **Процесс согласования**
   - Заявка проходит несколько уровней согласования:
     1. Руководитель отдела
     2. HR-отдел
     3. Директор

4. **Уведомления**
   - Система автоматически уведомляет всех участников процесса о статусе заявки
   - Отправляет напоминания о предстоящих отпусках

## Технический стек

- **Backend**: Django
- **База данных**: MariaDB
- **Bot Framework**: python-telegram-bot
- **Дополнительные библиотеки**: 
  - python-dotenv (конфигурация)
  - requests (HTTP-запросы)
  - SQLAlchemy (ORM)
  - pandas (обработка Excel)
  - unidecode (транслитерация)
